function atvImg(){function v(a,b,e,f,g,h){var i=c.scrollTop||d.scrollTop,j=c.scrollLeft,k=b?a.touches[0].pageX:a.pageX,l=b?a.touches[0].pageY:a.pageY,m=e.getBoundingClientRect(),n=e.clientWidth||e.offsetWidth||e.scrollWidth,o=e.clientHeight||e.offsetHeight||e.scrollHeight,p=320/n,q=.52-(k-m.left-j)/n,r=.52-(l-m.top-i)/o,s=l-m.top-i-o/2,t=k-m.left-j-n/2,u=(q-t)*(.07*p),v=(s-r)*(.1*p),w="rotateX("+v+"deg) rotateY("+u+"deg)",x=Math.atan2(s,t),y=180*x/Math.PI-90;y<0&&(y+=360),e.firstChild.className.indexOf(" over")!=-1&&(w+=" scale3d(1.07,1.07,1.07)"),e.firstChild.style.transform=w,h.style.background="linear-gradient("+y+"deg, rgba(255,255,255,"+(l-m.top-i)/o*.4+") 0%,rgba(255,255,255,0) 80%)",h.style.transform="translateX("+q*g-.1+"px) translateY("+r*g-.1+"px)";for(var z=g,A=0;A<g;A++)f[A].style.transform="translateX("+q*z*(2.5*A/p)+"px) translateY("+r*g*(2.5*A/p)+"px)",z--}function w(a,b){b.firstChild.className+=" over"}function x(a,b,c,d,e){var f=b.firstChild;f.className=f.className.replace(" over",""),f.style.transform="",e.style.cssText="";for(var g=0;g<d;g++)c[g].style.transform=""}var a=document,c=(a.documentElement,a.getElementsByTagName("body")[0]),d=a.getElementsByTagName("html")[0],e=window,f=a.querySelectorAll(".atvImg"),g=f.length,h="ontouchstart"in e||navigator.msMaxTouchPoints;if(!(g<=0))for(var i=0;i<g;i++){var j=f[i],k=j.querySelectorAll(".atvImg-layer"),l=k.length;if(!(l<=0)){for(;j.firstChild;)j.removeChild(j.firstChild);var m=a.createElement("div"),n=a.createElement("div"),o=a.createElement("div"),p=a.createElement("div"),q=[];j.id="atvImg__"+i,m.className="atvImg-container",n.className="atvImg-shine",o.className="atvImg-shadow",p.className="atvImg-layers";for(var r=0;r<l;r++){var s=a.createElement("div"),t=new Image;s.className="atvImg-rendered-layer",s.setAttribute("data-layer",r),t.src=k[r].getAttribute("data-img"),s.appendChild(t),p.appendChild(s),q.push(s)}m.appendChild(o),m.appendChild(p),m.appendChild(n),j.appendChild(m);var u=j.clientWidth||j.offsetWidth||j.scrollWidth;j.style.transform="perspective("+3*u+"px)",h?(e.preventScroll=!1,function(a,b,c,d){j.addEventListener("touchmove",function(f){e.preventScroll&&f.preventDefault(),v(f,!0,a,b,c,d)}),j.addEventListener("touchstart",function(b){e.preventScroll=!0,w(b,a)}),j.addEventListener("touchend",function(f){e.preventScroll=!1,x(f,a,b,c,d)})}(j,q,l,n)):!function(a,b,c,d){j.addEventListener("mousemove",function(e){v(e,!1,a,b,c,d)}),j.addEventListener("mouseenter",function(b){w(b,a)}),j.addEventListener("mouseleave",function(e){x(e,a,b,c,d)})}(j,q,l,n)}}}
